<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.26.2 by Michael Rose
  Copyright 2013-2024 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Smolagents are amazing - Ben Thomasson</title>
<meta name="description" content="Smolagents is one of those projects that will change the industry. It was released at just the right time to build upon the recent open-source advances in reasoning models like deepseek-R1.">


  <meta name="author" content="Ben Thomasson">
  
  <meta property="article:author" content="Ben Thomasson">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Ben Thomasson">
<meta property="og:title" content="Smolagents are amazing">
<meta property="og:url" content="/smolagents/ai/agents/smolagents-are-amazing/">


  <meta property="og:description" content="Smolagents is one of those projects that will change the industry. It was released at just the right time to build upon the recent open-source advances in reasoning models like deepseek-R1.">







  <meta property="article:published_time" content="2025-02-22T12:36:00-05:00">






<link rel="canonical" href="/smolagents/ai/agents/smolagents-are-amazing/">












<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Ben Thomasson Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Ben Thomasson
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/posts/"
                
                
              >Posts</a>
            </li><li class="masthead__menu-item">
              <a
                href="/categories/"
                
                
              >Categories</a>
            </li><li class="masthead__menu-item">
              <a
                href="/tags/"
                
                
              >Tags</a>
            </li><li class="masthead__menu-item">
              <a
                href="/about/"
                
                
              >About</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person" class="h-card">

  
    <div class="author__avatar">
      <a href="/">
        <img src="/assets/images/bio-photo.jpg" alt="Ben Thomasson" itemprop="image" class="u-photo">
      </a>
    </div>
  

  <div class="author__content">
    <h3 class="author__name p-name" itemprop="name">
      <a class="u-url" rel="me" href="/" itemprop="url">Ben Thomasson</a>
    </h3>
    
      <div class="author__bio p-note" itemprop="description">
        

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      

      
        
          
            <li><a href="https://benthomasson.com" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fas fa-fw fa-link" aria-hidden="true"></i><span class="label">Website</span></a></li>
          
        
          
            <li><a href="https://twitter.com/benthomasson" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span></a></li>
          
        
          
            <li><a href="https://github.com/benthomasson" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Smolagents are amazing">
    <meta itemprop="description" content="Smolagents is one of those projectsthat will change the industry. It was released at just the right time to buildupon the recent open-source advances in reasoning models like deepseek-R1.">
    <meta itemprop="datePublished" content="2025-02-22T12:36:00-05:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="/smolagents/ai/agents/smolagents-are-amazing/" itemprop="url">Smolagents are amazing
</a>
          </h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
        <p><a href="https://github.com/huggingface/smolagents">Smolagents</a> is one of those projects
that will change the industry. It was released at just the right time to build
upon the recent open-source advances in reasoning models like deepseek-R1.</p>

<p>The key insight here is that LLMs have been trained on a large corpus of Python
code and can express procedures in Python better than in English or JSON.  So let
the LLMs do that and then evaluate the code and give feedback to the model.  Huggingface
calls this process an agent.</p>

<p>Reasoning models build upon the LLMs knowledge of Python to produce reasoning about code.
They do this by talking through the problem using thinking tokens. “Talking to themselves”
gives them room to express concepts and then prompt themselves to improve their decisions.</p>

<p>In my experimentation, I have found that the reasoning models respond well to feedback
and can fix errors in their code without any help from humans.  They only need feedback
from the real world.   This almost entirely eliminates hallucinations because they can reconcile
their knowledge with reality and correct their mistakes.</p>

<p>Let’s put aside the abilities of the reasoning models for a moment and look at the code.
This repository is an example of really great software architecture and development. It uses
exactly the right amount of abstraction for the problem at hand, which is not very much.</p>

<p>The
<a href="https://github.com/huggingface/smolagents/blob/7927bcaea90d882c1c56261a6ea5c5ab88c0e766/src/smolagents/agents.py#L1119">CodeAgent</a>
is the innovative part of the project.  It uses a
<a href="https://github.com/huggingface/smolagents/blob/main/src/smolagents/local_python_executor.py">LocalPythonInterpreter</a>
(or a remote sandbox) to evaluate the code generated by the model.  The LocalPythonInterpreter
code is a great example of how to build an interpreter for a language.</p>

<p>The LocalPythonInterpreter is a great start if you wanted to build a Python
interpreter of your code. Here the code is parsed into a abstract syntax tree.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">expression</span> <span class="o">=</span> <span class="n">ast</span><span class="p">.</span><span class="n">parse</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
</code></pre></div></div>

<p>After it is parsed into an expression it is recursively evaluated.  There are
evaluate_<type> methods for each type of node in the AST.</type></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">result</span> <span class="o">=</span> <span class="n">evaluate_ast</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">static_tools</span><span class="p">,</span> <span class="n">custom_tools</span><span class="p">,</span> <span class="n">authorized_imports</span><span class="p">)</span>
</code></pre></div></div>

<p>There is a <code class="language-plaintext highlighter-rouge">state</code> dictionary that is passed along with the evaluation of the
AST.  I have used that to trace the tools that were called during the
evaluation.</p>

<p>The LocalPythonInterpreter is a hidden gem inside this project.  It may not be
extremely secure, it is a great tool for learning about building interpreters.</p>

<p>The CodeAgent works by defining tools that can be used within the Python code
that is evaluated by the LocalPythonInterpreter.  These tools can call any Python
code and gives the agent access to the real world.</p>

<p>Exploring this project raised a few questions for me:</p>

<ul>
  <li>How well could an agent incorporate feedback from the tools?</li>
  <li>How good are they at problem solving when given incomplete information?</li>
  <li>Can they reach out into the real world to find out what they need to know to complete a task?</li>
  <li>What if we gave them access to all the tools that developers have while they are coding?  Can they produce the same or better code?</li>
</ul>

<p>In future posts I’ll explore these questions with tools that interact with real world systems to see how they fare.</p>


        
      </section>

      <footer class="page__meta">
        
        


  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#agents" class="page__taxonomy-item p-category" rel="tag">agents</a><span class="sep">, </span>
    
      <a href="/categories/#ai" class="page__taxonomy-item p-category" rel="tag">ai</a><span class="sep">, </span>
    
      <a href="/categories/#smolagents" class="page__taxonomy-item p-category" rel="tag">smolagents</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2025-02-22T12:36:00-05:00">February 22, 2025</time></p>

      </footer>

      <section class="page__share">
  <h4 class="page__share-title">Share on</h4>

  <a href="https://twitter.com/intent/tweet?text=Smolagents+are+amazing%20%2Fsmolagents%2Fai%2Fagents%2Fsmolagents-are-amazing%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=%2Fsmolagents%2Fai%2Fagents%2Fsmolagents-are-amazing%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=/smolagents/ai/agents/smolagents-are-amazing/" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/ansible/code-review/remote-ansible-modules2/" class="pagination--pager" title="Remote Ansible Modules Continued">Previous</a>
    
    
      <a href="#" class="pagination--pager disabled">Next</a>
    
  </nav>


    </div>

    
  </article>

  
  
    
<div class="page__related">
  
  <h2 class="page__related-title">You May Also Enjoy</h2>
  <div class="grid__wrapper">
    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/ansible/code-review/remote-ansible-modules2/" rel="permalink">Remote Ansible Modules Continued
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">This post answers the question from the last post:

</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/ansible/code-review/remote-ansible-modules/" rel="permalink">Remote Ansible Modules
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">In this post I’ll answer the questions that arose from the last post:

</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/ansible/code-review/how-does-ansible-work/" rel="permalink">How does Ansible work?
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Ansible is an automation tool that allows you to manage remote machines with
modules.  How do these modules work?  Let’s take a look at the
slack module as a...</p>
  </article>
</div>

    
  </div>
</div>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://twitter.com/benthomasson" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/benthomasson" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 <a href="">Ben Thomasson</a>. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/jekyll-themes/minimal-mistakes/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>






  </body>
</html>
